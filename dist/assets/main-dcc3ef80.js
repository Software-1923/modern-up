const l=require("express"),e=l(),s=require("path"),o=require("fs"),p={}.PORT||3001;e.use(l.static(s.join(__dirname,"dist")));e.get("/",(i,n)=>{n.sendFile(s.join(__dirname,"public","html","index.html"))});e.get("/:page",(i,n)=>{const t=i.params.page,r=s.join(__dirname,"public","html",t);o.access(r,o.constants.F_OK,a=>a?n.sendFile(s.join(__dirname,"dist","error-page","404.html")):n.sendFile(r))});e.use("/activate-next-app",(i,n)=>{const t=require("./next-app");t.prepare().then(()=>{e.get("*",(r,a)=>t.getRequestHandler()(r,a)),console.log("Next.js application is enabled.")})});e.listen(p,()=>{console.log(`Server is running on port ${p}.`)});
